Homework 2
================
Kristi Chau
9/27/2019

## Problem 1

Read and clean Mr. Trash Wheel sheet

``` r
mtw_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", range = "Mr. Trash Wheel!A2:N338") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(round(sports_balls)))

##specified sheet in range
```

Read and clean precipitation data for 2017 and 2018, combine them

``` r
precip_2017_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", range = "2017 Precipitation!A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2017)

precip_2018_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",range = "2018 Precipitation!A2:B9") %>% 
  janitor::clean_names() %>%
  mutate(year = 2018)

precip_tidy = 
  bind_rows(precip_2017_df, precip_2018_df) %>% 
  janitor::clean_names() %>% 
  mutate(month = month.name[month]) %>%
  rename(total_precip = total) %>%
  select(month, year, total_precip)
```

The size of the Mr. Trash Wheel dataset is 3990 datapoints. Some
variables in this dataset are: dumpster, date, weight\_tons,
homes\_powered. The median number of sports balls in a dumpster in 2017
is 8. The size of the Precipitation dataset is 57 datapoints. The
precipitation dataset contains the variables: month, year,
total\_precip. The total precipitation in 2018 is 23.5.

## Problem 2

Cleaning the data in pols-month.csv

``` r
pols_month_df = 
  read.csv("./data/pols-month.csv") %>%
  separate(mon, c("year","month","day"),sep = "-") %>%
  mutate(month = month.name[as.integer(month)], year = as.integer(year), president = ifelse(prez_gop %in% c(1,2), "gop", ifelse(prez_dem %in% c(1,2), "dem", NA))) %>%
  select(-prez_gop, -prez_dem, -day)
```

Cleaning the data in snp.csv

``` r
snp_df = 
  read.csv("./data/snp.csv") %>%
  separate(date, c("day","month","year"),sep = "/") %>%
  mutate(month = month.name[as.integer(month)], year = as.integer(year)) %>%
  rename(closing_stock_index = close) %>%
  select(year, month, closing_stock_index, -day)
```

Cleaning the unemployment data

``` r
unemployment_df = 
  read.csv("./data/unemployment.csv") %>%
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment_percent"
  ) %>%
  mutate(month = month.name[match(month,month.abb)]) %>%
  janitor::clean_names()
```

Merging the datasets

``` r
pols_snp_data = 
  left_join(pols_month_df, snp_df, by = c("year","month"))

fte_data = 
  left_join(pols_snp_data, unemployment_df, by = c("year","month"))
```

The `pols_month_df` contained data about the number of national
politicians who are democratic or republic at any given time. The
`snp_df` contained data about the S\&P’s stock market index on dates of
observation. The `unemployment_df` contained data about the percentage
of unemployment at dates of measurement. The resulting merged dataset
has 15301 datapoints and 1391 observations. The years range from 1947 to
2015. Some key variables are: year, month, president,
closing\_stock\_index, unemployment\_percent.
