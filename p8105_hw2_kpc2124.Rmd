---
title: "Homework 2"
author: "Kristi Chau"
date: "9/27/2019"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(readxl)
```

## Problem 1

Read and clean Mr. Trash Wheel sheet

```{r}
mtw_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", range = "Mr. Trash Wheel!A2:N338") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(round(sports_balls)))

##specified sheet in range
```

Read and clean precipitation data for 2017 and 2018, combine them

```{r}
precip_2017_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", range = "2017 Precipitation!A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2017)

precip_2018_df = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",range = "2018 Precipitation!A2:B9") %>% 
  janitor::clean_names() %>%
  mutate(year = 2018)

precip_tidy = 
  bind_rows(precip_2017_df, precip_2018_df) %>% 
  janitor::clean_names() %>% 
  mutate(month = month.name[month]) %>%
  rename(total_precip = total) %>%
  select(month, year, total_precip)
```

The size of the Mr. Trash Wheel dataset is `r nrow(mtw_df) * ncol(mtw_df)` observations. Some variables in this dataset are: `r colnames(mtw_df)[c(1,4,5,14)]`. The median number of sports balls in a dumpster in 2017 is `r median(pull(mtw_df,sports_balls)[ pull(mtw_df,year) == 2017])`. The size of the Precipitation dataset is `r nrow(precip_tidy) * ncol(precip_tidy)` observations. The precipitation dataset contains the variables: `r colnames(precip_tidy)`. The total precipitation in 2018 is `r sum(pull(precip_tidy,total_precip)[pull(precip_tidy,year) == 2018])`.

## Problem 2

Cleaning the data in pols-month.csv

```{r}
pols_month_df = 
  read.csv("./data/pols-month.csv") %>%
  separate(mon, c("year","month","day"),sep = "-") %>%
  mutate(month = as.integer(month), month = month.name[month], president = ifelse(prez_gop %in% c(1,2), "gop", ifelse(prez_dem %in% c(1,2), "dem", NA))) %>%
  select(-prez_gop, -prez_dem, -day)
```


